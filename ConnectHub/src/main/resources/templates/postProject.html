<!doctype html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{/fragments/homepage_layout}" >

<head>
    <title>Post A Project</title>
    <link th:href="@{/css/companyHomepageStyling.css}" rel="stylesheet" >
</head>
<body>

<section class="company-homepage-body">
    <section layout:fragment="content">

<!--code here-->

        <div class="container my-5">
            <h2 class="text-center mb-4">Post a Project</h2>
            <form th:action="@{/handle-post-a-project}" method="POST" enctype="multipart/form-data">
                <div class="form-group">
                    <label for="title">Project Title</label>
                    <input type="text" class="form-control" id="title" name="title" placeholder="Enter project title" required>
                </div>

                <div class="form-group">
                    <label for="description">Project Description</label>
                    <textarea class="form-control" id="description" name="description" rows="5" placeholder="Describe the project" required></textarea>
                </div>

                <div class="form-group">
                    <label for="projectFile">Upload Project File</label>
                    <input type="file" id="projectFile" name="projectFile" >
                </div>

                <div class="form-group">
                    <label for="budget">Budget</label>
                    <input type="number" class="form-control" id="budget" name="budget" required>
                </div>

                <div class="form-group">
                    <label for="skills">Skills Needed</label>
                    <select class="form-control" id="skills" name="skills" required multiple>
                        <option value="" disabled selected>Select required skills</option>
                        <option th:each="skill : ${availableSkills}"
                                th:value="${skill}"
                                th:text="${skill}"></option>
                    </select>
                    <small class="form-text text-muted">Hold down the Ctrl (Windows) or Command (Mac) button to select multiple options.</small>

                    <div class="mt-2">
                        <label for="otherSkills">Add Other Skills</label>
                        <div id="additionalSkillsContainer">
                            <input type="text" class="form-control mb-2" name="otherSkills" placeholder="Enter additional skills">
                        </div>
                        <button type="button" class="btn btn-secondary" id="addSkillButton">Add Another Skill</button>
                    </div>
                </div>

                <div class="form-group">
                    <label for="deadline">Project Deadline</label>
                    <input type="date" class="form-control" id="deadline" name="deadline" required>
                </div>

                <div class="form-group">
                    <label for="location">Project Location</label>
                    <input type="text" class="form-control" id="location" name="location" placeholder="Enter job location" required>
                </div>

                <button type="submit" class="btn btn-primary btn-block">Post Job</button>
            </form>
        </div>

        <script>
            document.getElementById('addSkillButton').addEventListener('click', function() {
                const container = document.getElementById('additionalSkillsContainer');
                const newInput = document.createElement('input');
                newInput.type = 'text';
                newInput.className = 'form-control mb-2';
                newInput.name = 'otherSkills'; // Name should be the same to collect all in the list
                newInput.placeholder = 'Enter additional skills';
                container.appendChild(newInput);
            });
        </script>


    </section>
</section>

</body>
</html>
